# 批量修改文件MD5值的快速操作

这是一个macOS的快速操作（Quick Action）脚本，可以批量修改指定目录下所有图片和视频文件的MD5值。通过在文件末尾添加随机字符的方式来实现MD5值的修改，同时保持文件的正常功能。

## 支持的文件类型

### 图片格式
- JPG/JPEG
- PNG
- GIF
- BMP
- WEBP

### 视频格式
- MP4
- AVI
- MOV
- MKV
- FLV
- WMV

## 安装步骤

1. 打开 macOS 的「自动操作」应用程序（Automator）
2. 选择「快速操作」作为新文稿类型
3. 在左侧面板中选择「实用工具」
4. 找到「运行 Shell 脚本」并拖拽到右侧面板
5. 在右侧配置以下选项：
   - 工作流程收到当前：选择「文件夹」
   - 位于：选择「访达」
   - Shell：选择「/bin/bash」
   - 传递输入：选择「作为自变量」
6. 将脚本内容复制到脚本编辑框中
7. 保存快速操作（为其取一个容易识别的名字，如"批量修改MD5"）

![安装步骤示意图](https://gh-proxy.com/https://raw.githubusercontent.com/zhenhappy/modifymd5/refs/heads/main/screenshot.png)

## 使用方法

1. 在访达（Finder）中选择要处理的文件夹
2. 右键点击文件夹
3. 在右键菜单中选择「快速操作」
4. 点击你保存的操作名称（如"批量修改MD5"）
5. 等待处理完成，会弹出处理结果窗口，显示每个文件修改前后的MD5值

## 注意事项

- 脚本会修改原始文件，建议在处理前备份重要文件
- 处理过程不可逆，请谨慎操作
- 处理完成后会通过弹窗显示所有文件的处理结果
- 如果选择的目录不存在或无权限访问，脚本会报错并退出

## 工作原理

脚本通过以下步骤修改文件的MD5值：

1. 扫描指定目录下的所有文件
2. 识别支持的图片和视频文件类型
3. 使用openssl生成随机字符串
4. 将随机字符串追加到文件末尾
5. 计算并显示修改前后的MD5值

## 贡献

如果你发现任何问题或有改进建议，欢迎提出。 